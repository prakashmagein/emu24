<?xml version="1.0"?>

<!--
This combined menu.xml fixes the duplicate ID error.
The root menu item "Ecomteck_Core::pracoda_root" is defined only once.
All subsequent sub-menus use this ID in their 'parent' attribute.
-->

<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:noNamespaceSchemaLocation="urn:magento:module:Magento_Backend:etc/menu.xsd">
<menu>
<!-- 1. Top-level container menu (Defined ONLY ONCE to avoid "equal id" error) -->
<add id="Ecomteck_Core::pracoda_root"
title="Pracoda"
module="Ecomteck_Core"
sortOrder="50"
resource="Magento_Backend::admin"/>

    <!-- 2. Menu Item: Custom Attributes (from Ecomteck_CustomAttributeManagement) -->
    <!-- FIX: Parent changed from 'Ecomteck_Core::menu' to the correct ID 'Ecomteck_Core::pracoda_root' -->
    <add id="Ecomteck_CustomAttributeManagement::menu"
         title="Custom Attributes"
         translate="title"
         module="Ecomteck_CustomAttributeManagement"
         sortOrder="40"
         parent="Ecomteck_Core::pracoda_root"
         dependsOnModule="Ecomteck_Core"
         resource="Ecomteck_CustomAttributeManagement::attributes"/>

    <!-- 3. Menu Item: Customer Attributes (from Ecomteck_CustomerCustomAttributes) -->
    <add id="Ecomteck_CustomerCustomAttributes::customer_attributes_customer_attributes"
         title="Customer"
         translate="title"
         module="Ecomteck_CustomerCustomAttributes"
         sortOrder="10"
         parent="Ecomteck_Core::pracoda_root"
         action="adminhtml/customer_attribute"
         resource="Ecomteck_CustomerCustomAttributes::customer_attributes"/>

    <!-- 4. Menu Item: Customer Address Attributes (from Ecomteck_CustomerCustomAttributes) -->
    <add id="Ecomteck_CustomerCustomAttributes::customer_attributes_customer_address_attributes"
         title="Customer Address"
         translate="title"
         module="Ecomteck_CustomerCustomAttributes"
         sortOrder="20"
         parent="Ecomteck_Core::pracoda_root"
         action="adminhtml/customer_address_attribute"
         resource="Ecomteck_CustomerCustomAttributes::customer_address_attributes"/>
</menu>

</config>